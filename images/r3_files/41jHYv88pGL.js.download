'use strict';mix_d("TellAmazonDesktopCards__tell-amazon-desktop:tell-amazon-desktop__x_SHQT30","exports tslib @c/scoped-dom @c/aui-modal @c/browser-operations @c/remote-operations".split(" "),function(X,c,ja,ka,Y,la){function Z(a){return a&&"object"===typeof a&&"default"in a?a:{"default":a}}var O=Z(ja),ma=Z(ka),C;(function(a){a.openTellAmazonModal="openTellAmazonModal";a.submitForm="submit"})(C||(C={}));var na={displaySecondLevel:!1,displayAlert:!1,defaultAlert:"noPersonalInfoAlert",detailSection:{optional:!0,
display:!1,title:"comments"},firstLevel:{values:"problemWithOrder productInformationMissingInaccurateOrImproved partOfThisPageDontMatch issueWithPrice productContentOffensive productContentIllegalUnsafeSuspicious other".split(" "),title:"pleaseTellUsAboutTheIssue",prompt:"whatIsWrongWithThisPage",options:{problemWithOrder:{values:[],prompt:"",options:{default:{values:[],prompt:"",alert:"yourAccountAlert",submitButton:!1,details:{display:!1,optional:!0,title:"whatsTheIssue"}}}},productInformationMissingInaccurateOrImproved:{values:"images sizeDimensions releaseInformation modelEdition brand other".split(" "),
prompt:"whatInformationMissingImprovement",options:{images:{values:[],prompt:"",alert:"noPersonalInfoAlert",submitButton:!0,details:{display:!0,optional:!0,title:"comments"}},sizeDimensions:{values:[],prompt:"",alert:"noPersonalInfoAlert",submitButton:!0,details:{display:!0,optional:!0,title:"comments"}},releaseInformation:{values:[],prompt:"",alert:"noPersonalInfoAlert",submitButton:!0,details:{display:!0,optional:!0,title:"comments"}},modelEdition:{values:[],prompt:"",alert:"noPersonalInfoAlert",
submitButton:!0,details:{display:!0,optional:!0,title:"comments"}},brand:{values:[],prompt:"",alert:"noPersonalInfoAlert",submitButton:!0,details:{display:!0,optional:!0,title:"comments"}},other:{values:[],prompt:"",alert:"noPersonalInfoAlert",submitButton:!0,details:{display:!0,optional:!0,title:"comments"}}}},partOfThisPageDontMatch:{values:[],prompt:"",options:{default:{values:[],alert:"noPersonalInfoAlert",submitButton:!0,prompt:"whichPartsDontMatch",checkboxes:new Set("reviews images title bulletPoints brand other".split(" ")),
details:{display:!0,optional:!0,title:"comments"}}}},issueWithPrice:{values:"priceDisparity haveFoundLowerPrice discountCouponError higherShippingCosts pricesForUsedHigher other".split(" "),prompt:"whatsTheIssue",options:{priceDisparity:{values:[],prompt:"",alert:"noPersonalInfoAlert",submitButton:!0,details:{display:!0,optional:!0,title:"comments"}},haveFoundLowerPrice:{values:[],prompt:"",alert:"noPersonalInfoAlert",submitButton:!0,details:{display:!0,optional:!0,title:"comments"}},discountCouponError:{values:[],
prompt:"",alert:"noPersonalInfoAlert",submitButton:!0,details:{display:!0,optional:!0,title:"comments"}},higherShippingCosts:{values:[],prompt:"",alert:"noPersonalInfoAlert",submitButton:!0,details:{display:!0,optional:!0,title:"comments"}},pricesForUsedHigher:{values:[],prompt:"",alert:"noPersonalInfoAlert",submitButton:!0,details:{display:!0,optional:!0,title:"comments"}},other:{values:[],prompt:"",alert:"noPersonalInfoAlert",submitButton:!0,details:{display:!0,optional:!0,title:"comments"}}}},
productContentOffensive:{values:["sexuallyExplicitContent","other"],prompt:"whyIsItOffensive",options:{sexuallyExplicitContent:{values:[],prompt:"",alert:"noPersonalInfoAlert",submitButton:!0,details:{display:!0,optional:!0,title:"comments"}},other:{values:[],prompt:"",alert:"noPersonalInfoAlert",submitButton:!0,details:{display:!0,optional:!0,title:"comments"}}}},productContentIllegalUnsafeSuspicious:{values:["itsCounterfeit","usesMyIntellectualPropertyWithoutPermission","notSafeCompliantProductSafetyRegulations",
"reviewsQuestionsAnswersContainIllegal","productContentOtherwiseIllegal"],prompt:"whatsTheIssue",options:{itsCounterfeit:{values:[],prompt:"",alert:"noPersonalInfoAlert",submitButton:!0,checkboxes:new Set(["goodFaith"]),details:{display:!0,optional:!1,title:"details"}},usesMyIntellectualPropertyWithoutPermission:{values:[],prompt:"",alert:"goToPnfAlert",submitButton:!1,details:{display:!1,optional:!0,title:"comments"}},notSafeCompliantProductSafetyRegulations:{values:"haveInformationShowingItemNotSafe warningsDisclaimersMarkings missingProductAuthorization instructionsForUse contactDetails other".split(" "),
prompt:"whyIsntProductSafeCompliant",alert:"noPersonalInfoAlert",submitButton:!0,checkboxes:new Set(["goodFaith"]),details:{display:!0,optional:!1,title:"details"}},reviewsQuestionsAnswersContainIllegal:{values:["productReviewFakeIllegal","userProfileInformationReviewsIllegalContent","customerQuestionsAnswersIllegalContent"],prompt:"whereIsIssue",alert:"noPersonalInfoAlert",submitButton:!0,checkboxes:new Set(["goodFaith"]),details:{display:!0,optional:!1,title:"details",guideline:!0}},productContentOtherwiseIllegal:{values:["firearmIllegalWeapon",
"illegalDrugMedicine","containsProhibitedIngredientsSubstances","imageProductDescriptionContainsIllegalContent","other"],prompt:"whyIllegal",alert:"noPersonalInfoAlert",submitButton:!0,checkboxes:new Set(["goodFaith"]),details:{display:!0,optional:!1,title:"details"}}}},other:{values:[],prompt:"",options:{default:{values:[],prompt:"",alert:"noPersonalInfoAlert",submitButton:!0,details:{display:!0,optional:!0,title:"whatsTheIssue"}}}}}}},v=la.setup(),Q,aa,y,ba,I,r,R,u,S,z,J,ca,K,T,U,w,da,H,ea,q,A,
l,D,E,L,V=!1,B={},qa=function(a,b){return c.__awaiter(void 0,void 0,void 0,function(){var d;return c.__generator(this,function(e){switch(e.label){case 0:return[4,v.getTreatment({})];case 1:E=e.sent();if("C"!=E.treatment)return[3,2];L="";return[3,4];case 2:return[4,v.checkIfUserHasEmail({})];case 3:d=e.sent(),L=d.emailAssociated?d.emailAssociated:"",e.label=4;case 4:return""==L&&"C"!=E.treatment?[3,6]:[4,oa(a,b)];case 5:return e.sent(),[3,8];case 6:return[4,pa(a,b)];case 7:e.sent(),e.label=8;case 8:return[2]}})})},
pa=function(a,b){return c.__awaiter(void 0,void 0,void 0,function(){var d;return c.__generator(this,function(e){switch(e.label){case 0:return[4,v.fetchCustomerNoEmailModalContent({})];case 1:return d=e.sent(),[4,a.render(function(g){return c.__awaiter(void 0,void 0,void 0,function(){return c.__generator(this,function(f){b&&(b.innerHTML="",b.append(d));return[2]})})})];case 2:return e.sent(),[2]}})})},oa=function(a,b){return c.__awaiter(void 0,void 0,void 0,function(){var d;return c.__generator(this,
function(e){switch(e.label){case 0:return[4,v.fetchTellAmazonModalContent({})];case 1:return d=e.sent(),[4,a.render(function(g){return c.__awaiter(void 0,void 0,void 0,function(){var f,h;return c.__generator(this,function(k){switch(k.label){case 0:if(!b)return[3,2];b.innerHTML="";b.append(d);return[4,ra()];case 1:k.sent(),sa(g),f=Y.setup(),f.define(C.submitForm,"submit",function(n){return c.__awaiter(void 0,void 0,void 0,function(){return c.__generator(this,function(p){switch(p.label){case 0:return[4,
ta(n)];case 1:return p.sent(),[2]}})})}),(h=g.querySelector("#tellAmazonModal_form"))&&f.attach(C.submitForm,h),Q.style.display="block",k.label=2;case 2:return[2]}})})})];case 2:return e.sent(),[2]}})})},ra=function(){return c.__awaiter(void 0,void 0,void 0,function(){return c.__generator(this,function(a){P.when("a-dropdown").execute(function(b){return c.__awaiter(void 0,void 0,void 0,function(){return c.__generator(this,function(d){switch(d.label){case 0:return y=b.getSelect("tellAmazon_firstLevelDropdown"),
r=b.getSelect("tellAmazon_secondLevelDropdown"),u=b.getSelect("tellAmazon_thirdLevelDropdown"),[4,ua()];case 1:return d.sent(),[4,va()];case 2:return d.sent(),[2]}})})});P.when("A").execute(function(b){return c.__awaiter(void 0,void 0,void 0,function(){return c.__generator(this,function(d){b.on("a:dropdown:selected:tellAmazon_firstLevelDropdown",wa);b.on("a:dropdown:selected:tellAmazon_secondLevelDropdown",fa);b.on("a:dropdown:selected:tellAmazon_thirdLevelDropdown",xa);return[2]})})});return[2]})})},
wa=function(a){return c.__awaiter(void 0,void 0,void 0,function(){var b,d,e;return c.__generator(this,function(g){switch(g.label){case 0:M(q.detailSection);I.style.display=q.displaySecondLevel?"block":"none";K.required=!1;R.style.display="none";H.style.display=q.displayAlert?"block":"none";D.style.display="inline-block";y.update({status:"normal"});r.update({status:"normal"});r.setValue("");r.removeOptions();u.setValue("");l=null;u.removeOptions();F(!1);ha();b=a.value;A=q.firstLevel.options[b];if(0!==
A.values.length)return[3,2];l=null===(e=A.options)||void 0===e?void 0:e.default;return[4,fa()];case 1:return g.sent(),[2];case 2:return I.style.display="block",d=w[A.prompt],[4,W(r,A.values,d)];case 3:return g.sent(),[2]}})})},fa=function(a){return c.__awaiter(void 0,void 0,void 0,function(){return c.__generator(this,function(b){switch(b.label){case 0:ia();ha();a&&A.options&&(l=A.options[a.value]);if(!l)return[2];M(l.details);S.style.display="none";z.style.display="none";J.required=!1;return[4,ya(l)];
case 1:b.sent();var d;if(l.checkboxes){b=l.checkboxes;z.style.display="block";var e=z.getElementsByTagName("p");try{for(var g=c.__values(Array.from(e)),f=g.next();!f.done;f=g.next()){var h=f.value;b.has(h.dataset.name)?h.style.display="block":h.style.display="none"}}catch(G){var k={error:G}}finally{try{f&&!f.done&&(d=g.return)&&d.call(g)}finally{if(k)throw k.error;}}J.checked=!1;J.required=b.has("goodFaith")?!0:!1}H.style.display="none";var n;if(l.alert){k=l.alert;H.style.display="block";try{for(var p=
c.__values(Object.keys(B)),m=p.next();!m.done;m=p.next()){var x=m.value;B[x].style.display=x===k?"block":"none"}}catch(G){var t={error:G}}finally{try{m&&!m.done&&(n=p.return)&&n.call(p)}finally{if(t)throw t.error;}}}D.style.display="none";l.submitButton&&(D.style.display="inline-block");R.style.display=l.checkboxes||0<l.values.length?"block":"none";return[2]}})})},xa=function(a){return c.__awaiter(void 0,void 0,void 0,function(){return c.__generator(this,function(b){ia();l&&(M(l.details),!0===l.details.guideline&&
a&&("productReviewFakeIllegal"===a.value||"userProfileInformationReviewsIllegalContent"===a.value?T.style.display="block":"customerQuestionsAnswersIllegalContent"===a.value&&(U.style.display="block")));return[2]})})},ya=function(a){return c.__awaiter(void 0,void 0,void 0,function(){var b;return c.__generator(this,function(d){switch(d.label){case 0:return b=a.prompt?w[a.prompt]:"",[4,W(u,a.values,b)];case 1:return d.sent(),0<a.values.length&&(u.update({status:"normal"}),S.style.display="block"),[2]}})})},
ha=function(){var a,b,d=z.getElementsByTagName("input");try{for(var e=c.__values(Array.from(d)),g=e.next();!g.done;g=e.next()){var f=g.value;f.checked=!1}}catch(m){var h={error:m}}finally{try{g&&!g.done&&(a=e.return)&&a.call(e)}finally{if(h)throw h.error;}}z.style.display="none";h=z.getElementsByTagName("p");try{for(var k=c.__values(Array.from(h)),n=k.next();!n.done;n=k.next())f=n.value,f.style.display="none"}catch(m){var p={error:m}}finally{try{n&&!n.done&&(b=k.return)&&b.call(k)}finally{if(p)throw p.error;
}}},N=function(a){a?(D.classList.add("a-button-disabled"),V=!0):(D.classList.remove("a-button-disabled"),V=!1)},ta=function(a){return c.__awaiter(void 0,void 0,void 0,function(){var b,d,e,g;return c.__generator(this,function(f){switch(f.label){case 0:a.event.preventDefault();if(V)return[2];N(!0);b=O["default"].cardRoot.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_desktop_div__1Loux")[0];var h=0<y.val().length,k=!0,n=!0;0<r.getOptions().size()&&(k=0<r.val().length);h||y.update({status:"error"});
h&&!k&&r.update({status:"error"});l&&0<l.values.length&&((n=0<u.val().length)||u.update({status:"error"}));if(!(h&&k&&n&&b.dataset.asin))return[3,8];var p;h=[];k={partsOfPage:h,tellAmazon_firstLevelDropdown:""};try{for(var m=c.__values(a.event.target),x=m.next();!x.done;x=m.next()){var t=x.value;t.checked?h.push(t.name):t.value&&0<t.value.length&&"on"!==t.value&&(k[t.name]=t.value)}}catch(za){var G={error:za}}finally{try{x&&!x.done&&(p=m.return)&&p.call(m)}finally{if(G)throw G.error;}}d=k;e={firstLevelValue:d.tellAmazon_firstLevelDropdown,
secondLevelValue:d.tellAmazon_secondLevelDropdown||"",thirdLevelValue:d.tellAmazon_thirdLevelDropdown||"",checkboxes:d.partsOfPage,userComments:d.details||"",asin:b.dataset.asin,weblab:E.weblabName+":"+E.treatment,customerEmail:L};f.label=1;case 1:return f.trys.push([1,6,,7]),g=void 0,"C"!=E.treatment?[3,3]:[4,v.sendDefectToHarmattan({formValues:e})];case 2:return g=f.sent(),[3,5];case 3:return[4,v.sendDefectToNoreaster({formValues:e})];case 4:g=f.sent(),f.label=5;case 5:return g?(Q.style.display=
"none",aa.style.display="block",F(!1)):F(!0),N(!1),[3,7];case 6:return f.sent(),F(!0),N(!1),[3,7];case 7:return[3,9];case 8:N(!1),f.label=9;case 9:return[2]}})})},ia=function(){y.update({status:"normal"});r.update({status:"normal"});u.update({status:"normal"});F(!1)},F=function(a){da.style.display=a?"block":"none"},sa=function(a){ca=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_details_label__1lDih")[0];K=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_details_text_area__3_n0I")[0];
T=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_details_guideline_review__le5bQ")[0];U=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_details_guideline_question__23Tfu")[0];ba=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_first_level_dropdown_label__36syI")[0];da=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_try_again_message__1BEKR")[0];Q=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_form_container__1MC8C")[0];
aa=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_thankyou_container__1Cu-y")[0];I=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_second_level__1xVpa")[0];H=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_alert__14ANY")[0];R=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_third_level__3TdI4")[0];ea=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_details_section__OyMoa")[0];S=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_third_level_dropdown_container__3lTrD")[0];
z=a.getElementsByClassName("_tell-amazon-desktop_style_tellAmazonThirdLevelCheckboxContainer__2kR7h")[0];J=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_good_faith_checkbox__3neke")[0];B.noPersonalInfoAlert=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_alert_personal_info__3ZTTb")[0];B.yourAccountAlert=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_alert_your_account__2x7hR")[0];B.goToPnfAlert=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_alert_pnf__1mkcH")[0];
D=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_submit_button__3vz6W")[0]},va=function(){return c.__awaiter(void 0,void 0,void 0,function(){var a;return c.__generator(this,function(b){switch(b.label){case 0:return a=w[q.firstLevel.prompt],[4,W(y,q.firstLevel.values,a)];case 1:return b.sent(),[2]}})})},ua=function(){return c.__awaiter(void 0,void 0,void 0,function(){var a,b,d,e,g,f;return c.__generator(this,function(h){switch(h.label){case 0:return[4,y.update({status:"normal"})];
case 1:return h.sent(),[4,r.update({status:"disabled"})];case 2:return h.sent(),[4,u.update({status:"disabled"})];case 3:h.sent();I.style.display=q.displaySecondLevel?"block":"none";H.style.display=q.displayAlert?"block":"none";try{for(a=c.__values(Object.keys(B)),b=a.next();!b.done;b=a.next())d=b.value,B[d].style.display=d===q.defaultAlert?"block":"none"}catch(k){g={error:k}}finally{try{b&&!b.done&&(f=a.return)&&f.call(a)}finally{if(g)throw g.error;}}e=q.firstLevel.title;ba.innerHTML=w[e];M(q.detailSection);
F(!1);return[2]}})})},M=function(a){var b=w[a.title];b+=a.optional?" ("+w.optional+")":"";ca.innerHTML=b;ea.style.display=a.display?"block":"none";K.required=!a.optional;K.value="";U.style.display="none";T.style.display="none"},W=function(a,b,d){return c.__awaiter(void 0,void 0,void 0,function(){var e;return c.__generator(this,function(g){switch(g.label){case 0:return a.update({option_prompt:d}),a.removeOptions(),a.setValue(""),e=b.map(function(f){return{value:f,text:w[f]}}),[4,a.addOptions(e)];case 1:return g.sent(),
[2]}})})};X._operationNames="sendDefectToHarmattan getStrings fetchTellAmazonModalContent fetchCustomerNoEmailModalContent getTreatment checkIfUserHasEmail sendDefectToNoreaster".split(" ");X.card=function(){return c.__awaiter(void 0,void 0,void 0,function(){var a,b,d,e;return c.__generator(this,function(g){if(a=O["default"].cardRoot.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_desktop_link__3adsG")[0])b=O["default"].cardRoot.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_modal_end__30n3x")[0],
d=ma["default"].create("tellAmazon-modal","._tell-amazon-desktop_style_tell_amazon_modal_root__1q10s.aok-hidden",{a11yOpenMessage:"Report an issue",closeButton:!1}),e=Y.setup(),e.define(C.openTellAmazonModal,"click",function(){return c.__awaiter(void 0,void 0,void 0,function(){return c.__generator(this,function(f){switch(f.label){case 0:return[4,v.getTreatment({})];case 1:return f.sent(),[4,v.getStrings({})];case 2:return w=f.sent(),q=na,[4,d.show()];case 3:return f.sent(),[2]}})})}),e.attach(C.openTellAmazonModal,
a),d.on("beforeShow",function(){return c.__awaiter(void 0,void 0,void 0,function(){return c.__generator(this,function(f){switch(f.label){case 0:return[4,qa(d,b)];case 1:return[2,f.sent()]}})})}),d.on("afterHide",function(){return c.__awaiter(void 0,void 0,void 0,function(){return c.__generator(this,function(f){b.innerHTML="";return[2]})})});return[2]})})}});
